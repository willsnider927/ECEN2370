<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SPI_final_project: src/Source Files/ICM.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SPI_final_project<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Final project for ECEN2370 - SPI</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c9e40434d11e5548a56e3b283ebc6198.html">Source Files</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ICM.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>ICM Driver.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;ICM.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5e467a67d139072ead6bd731959a9b5b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_c_m_8c.html#a5e467a67d139072ead6bd731959a9b5b">icm_spi_open</a> (void)</td></tr>
<tr class="memdesc:a5e467a67d139072ead6bd731959a9b5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">opens spi communication lines for peripheral  <a href="_i_c_m_8c.html#a5e467a67d139072ead6bd731959a9b5b">More...</a><br /></td></tr>
<tr class="separator:a5e467a67d139072ead6bd731959a9b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0b8aba49b1405b5895091e680a2f45"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_c_m_8c.html#a0b0b8aba49b1405b5895091e680a2f45">ICM_TDD_CONFIG</a> (void)</td></tr>
<tr class="memdesc:a0b0b8aba49b1405b5895091e680a2f45"><td class="mdescLeft">&#160;</td><td class="mdescRight">configures and tests the ICM through SPI  <a href="_i_c_m_8c.html#a0b0b8aba49b1405b5895091e680a2f45">More...</a><br /></td></tr>
<tr class="separator:a0b0b8aba49b1405b5895091e680a2f45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4f7f2ddf6521ddc43cc53b5a5148af6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_c_m_8c.html#ae4f7f2ddf6521ddc43cc53b5a5148af6">ICM_read</a> (int cb, uint32_t reg)</td></tr>
<tr class="memdesc:ae4f7f2ddf6521ddc43cc53b5a5148af6"><td class="mdescLeft">&#160;</td><td class="mdescRight">starts ICM read  <a href="_i_c_m_8c.html#ae4f7f2ddf6521ddc43cc53b5a5148af6">More...</a><br /></td></tr>
<tr class="separator:ae4f7f2ddf6521ddc43cc53b5a5148af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29431fd6c0b33f859aa8b0f7cdb2db60"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i_c_m_8c.html#a29431fd6c0b33f859aa8b0f7cdb2db60">ICM_write</a> (int cb, uint32_t reg, uint32_t *val)</td></tr>
<tr class="memdesc:a29431fd6c0b33f859aa8b0f7cdb2db60"><td class="mdescLeft">&#160;</td><td class="mdescRight">starts ICM write  <a href="_i_c_m_8c.html#a29431fd6c0b33f859aa8b0f7cdb2db60">More...</a><br /></td></tr>
<tr class="separator:a29431fd6c0b33f859aa8b0f7cdb2db60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >ICM Driver. </p>
<dl class="section author"><dt>Author</dt><dd>Will Snider </dd></dl>
<dl class="section date"><dt>Date</dt><dd>16 Nov 2021 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae4f7f2ddf6521ddc43cc53b5a5148af6" name="ae4f7f2ddf6521ddc43cc53b5a5148af6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4f7f2ddf6521ddc43cc53b5a5148af6">&#9670;&nbsp;</a></span>ICM_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ICM_read </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>reg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>starts ICM read </p>
<p >Starts ICM read by use of driver start function, passes in required values for a read of the specified register</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>callback to be serviced after end of spi operation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>the register to be read from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ICM registers are 1 byte </dd></dl>

</div>
</div>
<a id="a5e467a67d139072ead6bd731959a9b5b" name="a5e467a67d139072ead6bd731959a9b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e467a67d139072ead6bd731959a9b5b">&#9670;&nbsp;</a></span>icm_spi_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void icm_spi_open </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>opens spi communication lines for peripheral </p>
<p >opens spi communication by setting the USART settings struct values to the peripherals needs, passes into spi driver open function to complete setup</p>
<dl class="section note"><dt>Note</dt><dd>called once by the app_peripheral_setup function </dd></dl>

</div>
</div>
<a id="a0b0b8aba49b1405b5895091e680a2f45" name="a0b0b8aba49b1405b5895091e680a2f45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0b8aba49b1405b5895091e680a2f45">&#9670;&nbsp;</a></span>ICM_TDD_CONFIG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ICM_TDD_CONFIG </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>configures and tests the ICM through SPI </p>
<p >Sets the ICM internal registers to needed values for correct measurements Tests the writes by reading the value back and ensuring correct configuration and functionality of SPI</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">success</td><td>returns whether the tests were successful.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>called in BOOT_UP_CB where the result is asserted to be true only chance for incorrect success result is if ICM registers are preset to correct values and the read functionality works while write does not </dd></dl>

</div>
</div>
<a id="a29431fd6c0b33f859aa8b0f7cdb2db60" name="a29431fd6c0b33f859aa8b0f7cdb2db60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29431fd6c0b33f859aa8b0f7cdb2db60">&#9670;&nbsp;</a></span>ICM_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ICM_write </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>starts ICM write </p>
<p >Starts ICM write by use of driver start function, passes in required values for a write to the specified register</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cb</td><td>callback to be serviced after end of spi operation</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">reg</td><td>the register to be wrote to</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>the value to be sent to the register</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>ICM registers are 1 byte </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
